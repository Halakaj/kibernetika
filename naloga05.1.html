<!DOCTYPE html>
<meta charset = utf8>
<html>

<head>
    <title>Primer s tipko</title>
</head>

<body>
<canvas id="canvas" width="300" height="150" style="border:1px solid #d3d3d3;">
</canvas>
<div id="divZaIzpis"></div>

<br>


<script type="text/javascript" src="/socket.io/socket.io.js"></script>
<script>
var c = document.getElementById("canvas");
var ctx = c.getContext("2d");
ctx.fillStyle = "green";
ctx.fillRect(20, 20, 150, 100);
</script>
<script type="text/javascript">

"use strict"; // za uporabo razredov ("class")
var divZaIzpis = document.getElementById("divZaIzpis");
// spremenljivka za izpis sporočil
function log(sporočilo) {
    return "<div>" + sporočilo + "</div>";
}
divZaIzpis.innerHTML += log("Pritisnite tipko na vezju");
var socket = io.connect("192.168.1.101:8080"); // povezava preko vtičnika
socket.on("sporočiloKlientu", function (sporočilo){
    divZaIzpis.innerHTML += log(sporočilo); // dodamo sporočilo
    log(sporočilo);
 if(sporočilo==1){
     ctx.fillStyle="red";
        
    ctx.fillRect(20, 20, 150, 100);
    ctx.fillText("STOP", 10, 50);
 }  
else if(sporočilo==0){
       ctx.fillStyle="green";
         
  ctx.fillRect(20, 20, 150, 100);
  ctx.fillText("STOP", 10, 50);
}
});

</script>
   
</body>
   
</html>